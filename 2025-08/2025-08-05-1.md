---
tags: []
aliases: 
UID: 2025-08-05T14-34-22
---
[日記](日記.md)
[1_RSpecのセットアップ](1_RSpecのセットアップ.md)

# RSpecを学ぶ
## Rspecとは
- Rubyプログラミング言語用のテストフレームワーク
- Railsアプリケーションの自動テストを作成するために便利
- 自然言語に近い構文を使用するため、テストコードの読み書きがしやすい
- 豊富な機能により初学者でも効果的なテストコードを作成することができる

## セットアップ
- gemの導入
```
  gem 'rspec-rails'
  gem 'factory_bot_rails'
```

- RSpecのセットアップ
```
docker compose exec web bundle exec rails g rspec:install
```

- テストファイルの実行
```
docker compose exec web bundle exec rails generate rspec:model Task
```
```
docker compose exec web bundle exec rspec spec/models/task_spec.rb
```
![](00_Assets/2025-08-05T14-34-22/IMG-20250805180457434.png)

## git マージ後の不具合について
### 問題内容
ブランチをマージ後、ローカル環境にリモート環境をプルしようとしたところでエラーが発生
以下エラー文
![](00_Assets/2025-08-05T14-34-22/IMG-20250805180848722.png)
読み解いてみると、specファイルが未追跡となっているから移動させるか、削除してねとのこと

specファイルは01_setupで生成されたファイルで、リモート環境でマージ済
つまり、未追跡となるのはおかしい状態になってしまっている、、、

とりあえずlogを遡ってみると、developへチェックアウトする際に怪しい文章が
![](00_Assets/2025-08-05T14-34-22/IMG-20250805180753073.png)
どうやら、生成されたファイルが権限に引っかかっている模様
未追跡となっているファイルとも一致している

権限問題により、リモートからプルする際に同名の未追跡ファイルとして認識されたようだ
※gitでは重要なファイルを勝手に上書きしないようにエラーが発生する

### 解決方法
git stashで未追跡ファイルを退避させる
```
git stash -u -m "01_setup作業時のspecファイルを退避"
```
上書き対象となってしまっている未追跡ファイルを一旦退避させることでリモートからプルできるようになる

